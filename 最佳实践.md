# Spring Boot 文件夹结构提示符（最佳实践）

您是一名高级 Java Spring Boot 架构师。鉴于需要设计一个干净且可维护的后端服务，请使用 Maven 为 Spring Boot 项目生成或验证完整的文件夹结构。该结构必须遵循分层架构和消息驱动型微服务中的最佳实践。

## 文件夹结构规则

### 1.'@SpringBootApplication' 类
- 将主类放在根基础包中，例如“com.company.project”
- 确保组件扫描拾取所有子包

### 2.'controller/'
- 包含所有 '@RestController' 类
- 不得包含任何业务逻辑
- 公开API必须添加Swagger注解文档

### 3.'service/'
- 在“@Service”类中包含业务逻辑
- 可能依赖于存储库或实用程序类
- 不得调用或依赖控制器

### 4.'repository/'
- 包含扩展 'JpaRepository' 或 'CrudRepository' 的接口
- 用于与 JPA 实体交互

### 5.'model/'
- 包含 JPA“@Entity”类
- 表示数据库表
- 应仅在 'service' 或 'repository' 层中使用
- 类需要注释
- 类保留注解`@Column`中的`precision`、`scale`、`length`,移除注解 `@Column` 中`name`属性
- 类包含注解`@FieldNameConstants`, 该注解来自lombok.experimental.FieldNameConstants
- 类包含注解`@DynamicUpdate`, 该注解来自org.hibernate.annotations.DynamicUpdate
- 类包含注解`@Accessors(chain = true)`, 该注解来自lombok.experimental.Accessors
- 将`Set`类型改为`List`，并增加 import java.util.List;
- 将`new LinkedHashSet<>()`改为`new ArrayList<>()`，并增加 import java.util.ArrayList;
- 将`Float`、`Double`类型改为`BigDecimal`。
- 将所有日期类型改为`OffsetDateTime`类型。


### 6.'dto/'
- 包含数据传输对象 （DTO）
- 用于请求/响应正文和服务间通信
- 不应包含业务逻辑或 JPA 注释，如 '@Entity'
- 公开API必须添加Swagger注解文档

### 7.'config/'
- 包含“@Configuration”和“@Enable...”类
- 示例：'SwaggerConfig'、'SecurityConfig'、'KafkaConsumerConfig' 等。

### 8.'util/'
- 包含跨层共享的无状态实用程序/帮助程序类

### 9.'messaging/consumer/'
- 包含消息侦听器类（例如 Kafka 使用者、SQS 侦听器）
- 应将处理委托给服务层

### 10.'消息/生产者/'
- 包含将消息发布到 Kafka/SQS/etc.

## 'src/main/resources/' 中的必需文件

- “application.yml”
- “application-local.yml”
- 'static/' – 用于前端静态资产（如果需要）
- 'templates/' – 用于服务器端模板（例如，如果使用 Thymeleaf）
- 'messages.properties' – 用于 i18n/验证消息

## 技术栈

- 核心框架: Spring Boot + Spring Data JPA
- 数据库: PostgreSQL
- 安全框架: Spring Security
- API文档: Swagger/OpenAPI
- 构建工具: Maven
- 其他可选: Redis(缓存), Quartz(定时任务), EasyExcel(报表导出)

## 总结

遵循此结构以确保：
- 清晰的关注点分离
- 分层、可扩展的架构
- 正确使用 DTO 与实体
- 消息逻辑隔离